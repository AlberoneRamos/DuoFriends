(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{308:function(e,t,a){e.exports=a(604)},603:function(e,t,a){},604:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(47),l=a.n(r),o=a(14),s=a(15),c=a(19),u=a(16),d=a(21),h=a(18),m=a(275),p=a.n(m),f=a(29),b=a.n(f),g=a(25),y=a(20),v=a(102),O=a.n(v),E=a(279),k=a.n(E),j=a(280),C=a.n(j),S=a(281),x=a.n(S),w=a(282),D=a.n(w),I=a(17),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={value:0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e,t){this.setState({value:t})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.numberOfRequests,n=this.state.value;return i.a.createElement(O.a,{value:n,onChange:this.handleChange.bind(this),className:t.root},i.a.createElement(v.BottomNavigationButton,{component:g.a,to:"players",className:t.buttonNav,disableRipple:!0,icon:i.a.createElement(k.a,null)}),i.a.createElement(v.BottomNavigationButton,{component:g.a,to:"/notifications",classes:{root:t.buttonNav,selected:t.SelectedIcon},disableRipple:!0,icon:i.a.createElement(C.a,{badgeContent:a,classes:{badge:a>0?t.badge:t.badgeHidden},color:"accent"},i.a.createElement(x.a,null))}),i.a.createElement(v.BottomNavigationButton,{component:g.a,to:"/duos",className:t.buttonNav,disableRipple:!0,icon:i.a.createElement(D.a,null)}))}}]),t}(i.a.Component);var T=Object(I.b)(function(e){return{numberOfRequests:e.requests.length}})(Object(y.withStyles)(function(e){return{root:{backgroundColor:e.palette.secondary[500],width:"100%",color:"#fafafa",bottom:0,position:"fixed"},buttonNav:{padding:"0",width:"20vw"},badge:{top:"-8px",width:"20px",right:"-8px",height:"20px"},badgeHidden:{display:"none"},Icon:{color:"#b8b9bb"},SelectedIcon:{color:e.palette.primary[500]}}})(R)),A=a(78),N=a(28),M=a(24),q=a.n(M),B=a(61),W=a.n(B),L=a(101),P=a.n(L),F=a(22),U=a.n(F),_=a(41),H=a.n(_),z=a(131),J=a.n(z);function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",a=["Top","Mid","Jungle","Bot","Support","Fill"];return[a[e-1],"/images/"+a[e-1]+"_icon.".concat(t)]}function K(e){return"/images/".concat(e,"_SUMMONER.jpg")}function V(e){var t=(9301*e.match(/\d/g).join("")+49297)%233280/233280;return Math.round(588+32*t)}var Y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.mainRole,n=e.nickName,r=e.rank,l=e.userRating,o=e.classes,s=G(a);return i.a.createElement(g.a,{to:"players/".concat(t)},i.a.createElement(M.ListItem,{button:!0},i.a.createElement(H.a,{alt:r,src:"http://ddragon.leagueoflegends.com/cdn/6.24.1/img/profileicon/".concat(V(t),".png")}),i.a.createElement(M.ListItemSecondaryAction,null,i.a.createElement(H.a,{className:o.Avatar,alt:s[0],src:s[1]})),i.a.createElement(M.ListItemText,{primary:n,secondary:i.a.createElement("span",null," ",i.a.createElement(J.a,{className:o.icon,style:{color:"#2ec4b6"}})," ",i.a.createElement("span",{style:{verticalAlign:"top"}}," ",l," "))})))}}]),t}(n.Component),Z=Object(y.withStyles)(function(e){return{icon:{height:17,verticalAlign:"top"},Avatar:{borderRadius:0}}})(Y),Q=a(283),X=a.n(Q),$=a(284),ee=a.n($),te=a(132),ae=a.n(te),ne=a(54),ie=a(42),re=a(52),le=a.n(re),oe=a(80),se=a.n(oe);se.a.initializeApp({apiKey:"AIzaSyC3elyKa7A3AKA2PdfU7XeY-XydwfjS4LQ",authDomain:"duofriends-44abd.firebaseapp.com",databaseURL:"https://duofriends-44abd.firebaseio.com",projectId:"duofriends",storageBucket:"duofriends-44abd.appspot.com",messagingSenderId:"367419709060"});new se.a.auth.FacebookAuthProvider;var ce=se.a.database().ref(),ue=se.a.auth();se.a.storage().ref(),se.a;var de=function(){return!!ue.currentUser||!!localStorage.getItem("USER_UID")};function he(e){return ce.child("users/".concat(e.uid,"/info")).set({email:e.email,uid:e.uid}).then(function(){return e})}var me=a(37),pe=a.n(me),fe="ADD_AVAILABILITIES",be="ADD_USER_INFO",ge="ADD_REQUESTS",ye="ADD_USERS",ve="SUCCESS_MESSAGE",Oe="ERROR_MESSAGE",Ee="LOGOUT",ke="LOGIN";function je(){return function(e,t){return ce.child("users/").on("value",function(a){var n,i=t().auth.uid,r=a.val(),l=null===r?[]:Object.keys(r).map(function(e){return Object(N.a)({id:e},r[e])});e(function(e){return{type:ye,users:e}}(l.filter(function(e){return e.id!==i}))),e((n=l.filter(function(e){return e.id===i}),{type:be,payload:Object(N.a)({},n[0],{availability:void 0,requests:void 0})}))})}}function Ce(e){return{type:Oe,message:e}}function Se(e){return{type:ve,message:e}}function xe(e,t){return function(a,n){return function(e,t){return ue.signInWithEmailAndPassword(e,t)}(e,t).then(function(e){return e},function(e){return a(Ce(e.message)),e})}}function we(){return function(e,t){return ue.signOut().then(function(t){return e(Ie([])),t},function(e){return e})}}function De(e){var t=null===e?[]:Object.keys(e).map(function(t){return Object(N.a)({},e[t],{id:t})});return{type:ge,requests:t}}function Ie(e){return{type:fe,availabilities:e}}function Re(e,t){return function(a,n){var i=n().auth.uid,r=ce.child("users/".concat(i,"/availability/").concat(e));r.once("value").then(function(e){var a=e.val(),n={userId:null,isFilled:!1};ce.child("users/".concat(t,"/availability")).orderByChild("userId").equalTo(i).once("value").then(function(e){var t=e.val();for(var l in t)if(JSON.stringify(t[l])===JSON.stringify(Object(N.a)({},a,{userId:i,isFilled:!0})))return r.update(n)})})}}var Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,search:{playername:"",roles:[],ranks:[],playstyles:[]}},a.renderUserList=a.renderUserList.bind(Object(d.a)(a)),a.toggleAdvancedFilter=a.toggleAdvancedFilter.bind(Object(d.a)(a)),a.handleChangeSearch=a.handleChangeSearch.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"renderUserList",value:function(e){var t=this;return e.filter(function(e){return""===t.state.search.playername||e.nickName.toLowerCase().includes(t.state.search.playername.toLowerCase())}).filter(function(e){return!(t.state.search.roles.length>0)||t.state.search.roles.includes(e.mainRole)}).filter(function(e){return!(t.state.search.ranks.length>0)||t.state.search.ranks.includes(e.league)}).filter(function(e){return!(t.state.search.playstyles.length>0)||t.state.search.playstyles.includes(e.playStyle)}).map(function(e,t){return i.a.createElement(Z,Object.assign({key:t},e))})}},{key:"toggleAdvancedFilter",value:function(){this.setState({open:!this.state.open})}},{key:"componentWillMount",value:function(){this.props.getUsers()}},{key:"handleChangeSearch",value:function(e,t){t.preventDefault(),this.setState({search:Object(N.a)({},this.state.search,Object(A.a)({},e,t.target.value))})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=["Top","Mid","Jungle","Bot","Support","Fill"],n=["Casual","Competitive"];return i.a.createElement("div",null,i.a.createElement("div",{style:{backgroundColor:"#0f1015",position:"sticky",top:"55px",zIndex:"2"}},i.a.createElement(U.a,{container:!0,alignItems:"center",justify:"center",spacing:16,style:{width:"100vw",margin:"0px"}},i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(W.a,{fullWidth:!0,startAdornment:i.a.createElement(B.InputAdornment,{position:"start",className:t.iconCenter},i.a.createElement(X.a,null)),name:"playername",placeholder:"Player name...",onChange:function(t){e.handleChangeSearch("playername",t)},disableUnderline:!0,value:this.state.search.playername,classes:{root:t.searchInput,focused:t.searchInput,input:t.input}})),i.a.createElement(U.a,{item:!0,xs:2,style:{textAlign:"center"}},i.a.createElement(le.a,{onClick:function(){e.toggleAdvancedFilter()}},i.a.createElement(ee.a,{className:this.state.open?t.advancedSearchOpen:{}})))),i.a.createElement(ae.a,{in:this.state.open,transitionDuration:"auto",unmountOnExit:!0},i.a.createElement(U.a,{style:{padding:"8px 8px"},container:!0,alignItems:"center",justify:"center",spacing:16},i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(P.a,{name:"role",value:this.state.search.roles,onChange:function(t){e.handleChangeSearch("roles",t)},multiple:!0,disableUnderline:!0,className:t.multipleSelect},a.map(function(e){return i.a.createElement(ie.MenuItem,{key:e,value:a.indexOf(e)+1},e)}))),i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(P.a,{name:"rank",value:this.state.search.ranks,onChange:function(t){e.handleChangeSearch("ranks",t)},multiple:!0,disableUnderline:!0,className:t.multipleSelect},["Bronze","Silver","Gold","Platinum","Diamond","Master","Challenger"].map(function(e){return i.a.createElement(ie.MenuItem,{key:e,value:e.toUpperCase()},e)}))),i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(P.a,{name:"playstyle",value:this.state.search.playstyles,onChange:function(t){e.handleChangeSearch("playstyles",t)},multiple:!0,disableUnderline:!0,className:t.multipleSelect},n.map(function(e){return i.a.createElement(ie.MenuItem,{key:e,value:n.indexOf(e)+1},e)})))))),i.a.createElement(q.a,{style:{paddingBottom:"8vh",paddingTop:"8vh"}},this.renderUserList(this.props.users)))}}]),t}(n.Component);var Ae=Object(I.b)(function(e){return{users:e.users}},function(e){return{getUsers:function(){e(je())}}})(Object(ne.c)({form:"search"})(Object(y.withStyles)(function(e){return{searchInput:{padding:"0px 8px 0px 8px !important",borderRadius:"20px",backgroundColor:e.palette.secondary[400],"&:before":{content:"none"},alignItems:"center"},multipleSelect:{borderRadius:"20px",backgroundColor:e.palette.secondary[400],"&:before":{content:"none"},width:"100%",alignItems:"center",display:"inline-block",alignSelf:"center"},advancedSearchOpen:{color:e.palette.primary[500]},input:{padding:"8px 0px !important"},iconCenter:{height:"100%",display:"flex",alignItems:"center",pointerEvents:"none",justifyContent:"center"}}})(Te))),Ne=a(30),Me=a.n(Ne),qe=a(87),Be=a.n(qe),We=a(288),Le=a.n(We),Pe=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.senderInfo,a=e.startingTime,n=e.endingTime,r=e.dayOfWeek,l=e.classes,o=e.acceptRequest,s=e.declineRequest,c=G(t.mainRole);return i.a.createElement("div",null,i.a.createElement(M.ListItem,{disableRipple:!0,button:!0},i.a.createElement(g.a,{to:"player/".concat(t.id)},i.a.createElement(H.a,{alt:t.rank,src:"http://ddragon.leagueoflegends.com/cdn/6.24.1/img/profileicon/".concat(V(t.id),".png")})),i.a.createElement(M.ListItemText,{primary:"".concat(r,", at ").concat(a," - ").concat(n),secondary:"".concat(t.nickName,", ").concat(c[0])}),i.a.createElement(M.ListItemSecondaryAction,{className:l.secondaryAction},i.a.createElement(Me.a,{raised:!0,classes:{root:l.ButtonBase,raisedPrimary:l.ButtonAccept},onClick:function(){o()},color:"primary"},i.a.createElement(Le.a,null)),i.a.createElement(Me.a,{raised:!0,classes:{root:l.ButtonBase2,raisedPrimary:l.ButtonRemove},onClick:function(){s()},color:"primary"},i.a.createElement(Be.a,null)))))}}]),t}(n.Component);var Fe=Object(I.b)(function(e){return{}},function(e,t){return{acceptRequest:function(){var a,n;e((t.id,a=t.availabilityId,n=t.senderInfo.id,function(e,t){var i=t().auth.uid,r=ce.child("users/".concat(i,"/availability/").concat(a));r.once("value").then(function(t){var l=Object(N.a)({},t.val(),{userId:n,isFilled:!0});return ce.child("users/".concat(n,"/availability")).push(Object(N.a)({},l,{userId:i})),r.update(l).then(function(e){return ce.child("users/".concat(i,"/requests")).once("value").then(function(e){e.forEach(function(e){e.val().availabilityId===a&&ce.child("users/".concat(i,"/requests")).child(e.key).remove()})})},function(t){return e(Ce(t.message)),t})})})),e(Se("Request accepted."))},declineRequest:function(){var a;e((a=t.id,function(e,t){var n=t().auth.uid;ce.child("users/".concat(n,"/requests/").concat(a)).remove()})),e(Ce("Request denied."))}}})(Object(y.withStyles)(function(e){return{icon:{height:17,verticalAlign:"top"},secondaryAction:{top:"50%",marginTop:"-16px",right:8},ButtonBase:{height:36,width:36,padding:0,marginRight:8,borderRadius:"100%",minWidth:0,color:"#fafafa"},ButtonBase2:{height:36,width:36,padding:0,marginRight:8,borderRadius:"100%",minWidth:0,color:"#fafafa"},ButtonAccept:{backgroundColor:"#05c7a3"},ButtonRemove:{backgroundColor:"#ef5350"}}})(Pe)),Ue=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"renderRequestList",value:function(){return this.props.requests.map(function(e,t){return i.a.createElement(Fe,Object.assign({key:t},e))})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(q.a,null,this.renderRequestList()))}}]),t}(n.Component);var _e=Object(I.b)(function(e){return{requests:e.requests.map(function(t){return Object(N.a)({},e.availability[t.availabilityId],{availabilityId:t.availabilityId,id:t.id,senderInfo:Object(N.a)({},e.users.filter(function(e){return t.user===e.id})[0],{requests:null,availability:null})})})}})(Ue),He=a(289),ze=a.n(He),Je=a(39),Ge=a.n(Je),Ke=a(290),Ve=a.n(Ke),Ye=a(177),Ze=a.n(Ye),Qe=a(179),Xe=a.n(Qe),$e=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleTimeChange=a.handleTimeChange.bind(Object(d.a)(a)),a.requestEditSchedule=a.requestEditSchedule.bind(Object(d.a)(a));var n=e.startingTime?pe()().set({hours:e.startingTime.split(":")[0],minutes:e.startingTime.split(":")[1]}).toDate():new Date,i=e.endingTime?pe()().set({hours:e.endingTime.split(":")[0],minutes:e.endingTime.split(":")[1]}).toDate():pe()().add(1,"hours").toDate();return a.state={weekDay:e.dayOfWeek?e.dayOfWeek:"Sunday",startingTime:n,endingTime:i},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e,t){this.setState(Object(A.a)({},e,t.target.value))}},{key:"handleTimeChange",value:function(e,t){this.setState(Object(A.a)({},e,t))}},{key:"requestEditSchedule",value:function(){var e=this.state,t=e.startingTime,a=e.endingTime,n=e.weekDay;t>=a?this.props.errorMessage("Time traveling isn't supported yet!"):this.props.edit?this.props.editSchedule(n,pe()(t).format("HH:mm"),pe()(a).format("HH:mm")):this.props.addSchedule(n,pe()(t).format("HH:mm"),pe()(a).format("HH:mm"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.title,r=t.handleRequestClose,l=t.edit;return i.a.createElement(Ge.a,{open:this.props.open,onRequestClose:r},i.a.createElement(Je.DialogTitle,null,n),i.a.createElement(Je.DialogContent,{className:a.content},i.a.createElement(U.a,{container:!0,justify:"center"},i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(Ze.a,{select:!0,fullWidth:!0,InputLabelProps:{FormControlClasses:{focused:a.inputLabel}},label:"Week day",InputClassName:a.inputInkbar,value:this.state.weekDay,onChange:function(t){e.handleChange("weekDay",t)}},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(function(e,t){return i.a.createElement(ie.MenuItem,{value:e,key:t},e)})))),i.a.createElement(U.a,{container:!0,justify:"center"},i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(Xe.a,{mode:"24h",className:a.inputInkbar,value:this.state.startingTime,onChange:function(t){return e.handleTimeChange("startingTime",t)}})),i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(Xe.a,{mode:"24h",className:a.inputInkbar,value:this.state.endingTime,onChange:function(t){return e.handleTimeChange("endingTime",t)}})))),i.a.createElement(Je.DialogActions,null,i.a.createElement(Me.a,{onClick:r,color:"primary"},"Cancel"),i.a.createElement(Me.a,{onClick:this.requestEditSchedule,color:"primary"},l?"Save":"Add")))}}]),t}(n.Component);var et=Object(I.b)(null,function(e,t){return{editSchedule:function(a,n,i){return e(function(e,t,a,n){return function(n,i){var r=i().auth.uid,l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=i().availability;for(var s in o){var c=pe()().set({hours:o[s].startingTime.split(":")[0],minutes:o[s].startingTime.split(":")[1],days:l.indexOf(o[s].dayOfWeek)}),u=pe()().set({hours:o[s].endingTime.split(":")[0],minutes:o[s].endingTime.split(":")[1],days:l.indexOf(o[s].dayOfWeek)}),d=pe()().set({hours:a.split(":")[0],minutes:a.split(":")[1],days:l.indexOf(e)}),h=pe()().set({hours:t.split(":")[0],minutes:t.split(":")[1],days:l.indexOf(e)});if(d.isBetween(c,u,null,"[]"))return n(Ce("Ending time is between another schedule!"));if(h.isBetween(c,u,null,"[]"))return n(Ce("Starting time is between another schedule!"))}return ce.child("users/".concat(r,"/availability/").concat(s)).update({dayOfWeek:e,startingTime:t,endingTime:a}).then(function(e){n(Se("Schedule successfully edited!"))},function(e){return n(Ce(e.message)),e})}}(a,n,i,t.id))},addSchedule:function(a,n,i){return e(function(e,t,a){return function(n,i){var r=i().auth.uid,l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=i().availability;for(var s in o){var c=pe()().set({hours:o[s].startingTime.split(":")[0],minutes:o[s].startingTime.split(":")[1],days:l.indexOf(o[s].dayOfWeek)}),u=pe()().set({hours:o[s].endingTime.split(":")[0],minutes:o[s].endingTime.split(":")[1],days:l.indexOf(o[s].dayOfWeek)}),d=pe()().set({hours:a.split(":")[0],minutes:a.split(":")[1],days:l.indexOf(e)}),h=pe()().set({hours:t.split(":")[0],minutes:t.split(":")[1],days:l.indexOf(e)});if(d.isBetween(c,u,null,"[]"))return n(Ce("Ending time is between another schedule!"));if(h.isBetween(c,u,null,"[]"))return n(Ce("Starting time is between another schedule!"))}return ce.child("users/".concat(r,"/availability")).push({dayOfWeek:e,startingTime:t,endingTime:a}).then(function(e){n(Se("Schedule successfully added!"))},function(e){return n(Ce(e.message)),e})}}(a,n,i,t.id))},errorMessage:function(t){return e(Ce(t))},successMessage:function(t){return e(Se(t))}}})(Object(y.withStyles)(function(e){return{formControl:{display:"flex",justifyContent:"center"},inputLabel:{color:e.palette.primary[500]},inputInkbar:{"&:after":{backgroundColor:"".concat(e.palette.primary[500]," !important")}}}})($e)),tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,deleteDialog:!1},a.handleDelete=a.handleDelete.bind(Object(d.a)(a)),a.handleClickOpen=a.handleClickOpen.bind(Object(d.a)(a)),a.handleRequestClose=a.handleRequestClose.bind(Object(d.a)(a)),a.handleOpenDeleteDialog=a.handleOpenDeleteDialog.bind(Object(d.a)(a)),a.handleCloseDeleteDialog=a.handleCloseDeleteDialog.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleOpenDeleteDialog",value:function(){this.setState({deleteDialog:!0})}},{key:"handleRequestClose",value:function(){this.setState({open:!1})}},{key:"handleCloseDeleteDialog",value:function(){this.setState({deleteDialog:!1})}},{key:"handleDelete",value:function(){this.props.deleteSchedule(),this.setState({deleteDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dayOfWeek,n=t.startingTime,r=t.endingTime,l=t.id,o=t.isFilled,s=t.classes,c=t.userInfo;return i.a.createElement(M.ListItem,{button:!0},i.a.createElement(M.ListItemSecondaryAction,null,i.a.createElement(Ve.a,{id:"tooltip-icon",disableTriggerFocus:!o,disableTriggerHover:!o,disableTriggerTouch:!o,title:"You can't edit filled schedules!",placement:"bottom"},i.a.createElement(le.a,{className:o?s.disabledButton:"",onClick:function(){if(!o)return e.handleClickOpen()}},i.a.createElement(ze.a,null))),i.a.createElement(le.a,{onClick:this.handleOpenDeleteDialog,style:{color:"#ef5350"}},i.a.createElement(Be.a,null))),i.a.createElement(M.ListItemText,{inset:!0,primary:"".concat(a,", ").concat(n," - ").concat(r),secondary:o?"Duo: ".concat(c.nickName):""}),i.a.createElement(et,{edit:!0,dayOfWeek:a,startingTime:n,endingTime:r,id:l,title:"Edit Schedule",handleRequestClose:this.handleRequestClose,open:this.state.open}),i.a.createElement(Ge.a,{open:this.state.deleteDialog,onRequestClose:this.handleCloseDeleteDialog},i.a.createElement(Je.DialogTitle,null,"Delete Schedule"),i.a.createElement(Je.DialogContent,null,i.a.createElement(b.a,null,"Are you sure that you want to delete your schedule on ".concat(a,", ").concat(n," - ").concat(r,"?"))),i.a.createElement(Je.DialogActions,null,i.a.createElement(Me.a,{onClick:this.handleCloseDeleteDialog,color:"primary"},"Cancel"),i.a.createElement(Me.a,{onClick:this.handleDelete,color:"accent"},"Delete"))))}}]),t}(n.Component);var at=Object(I.b)(null,function(e,t){return{deleteSchedule:function(){var a,n;e((a=t.id,n=t.userId,function(e,t){var i=t().auth.uid;return n&&ce.child("users/".concat(i,"/availability/").concat(a)).once("value").then(function(e){var t=e.val(),a={userId:null,isFilled:!1};ce.child("users/".concat(n,"/availability")).orderByChild("userId").equalTo(i).once("value").then(function(e){var r=e.val();for(var l in r)JSON.stringify(r[l])===JSON.stringify(Object(N.a)({},t,{userId:i,isFilled:!0}))&&ce.child("users/".concat(n,"/availability/").concat(l)).update(a)})}),ce.child("users/".concat(i,"/availability/").concat(a)).remove().then(function(t){e(Se("Schedule successfully deleted!"))},function(t){e(Ce(t.message))})}))}}})(Object(y.withStyles)(function(e){return{icon:{height:17,verticalAlign:"top"},Avatar:{borderRadius:0},hideTooltip:{display:"none !important"},disabledButton:{color:"#58585d"}}})(tt)),nt=a(291),it=a.n(nt),rt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={open:!1},a.handleClickOpen=a.handleClickOpen.bind(Object(d.a)(a)),a.handleRequestClose=a.handleRequestClose.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleRequestClose",value:function(){this.setState({open:!1})}},{key:"renderScheduleList",value:function(){return this.props.schedules.map(function(e,t){return i.a.createElement(at,Object.assign({key:t},e))})}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",null,i.a.createElement(q.a,null,this.renderScheduleList()),i.a.createElement(Me.a,{fab:!0,className:t.floatingActionButton,raised:!0,style:{backgroundColor:"#05c7a3"},onClick:function(){e.handleClickOpen()}},i.a.createElement(it.a,null)),i.a.createElement(et,{title:"Add Schedule",handleRequestClose:this.handleRequestClose,open:this.state.open}))}}]),t}(n.Component);var lt=Object(I.b)(function(e){return{schedules:Object.keys(e.availability).map(function(t){return Object(N.a)({},e.availability[t],{id:t,userInfo:Object(N.a)({},e.users.filter(function(a){return e.availability[t].userId===a.id})[0],{availability:void 0})})})}})(Object(y.withStyles)(function(e){return{floatingActionButton:{right:"24px",bottom:"64px",position:"fixed"}}})(rt)),ot=a(306),st=a(292),ct=a.n(st),ut=a(293),dt=a.n(ut),ht=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,deleteDialog:!1},a.renderRemoveDialog=a.renderRemoveDialog.bind(Object(d.a)(a)),a.handleOpenDeleteDialog=a.handleOpenDeleteDialog.bind(Object(d.a)(a)),a.handleCloseDeleteDialog=a.handleCloseDeleteDialog.bind(Object(d.a)(a)),a.handleDelete=a.handleDelete.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleOpenDeleteDialog",value:function(){this.setState({deleteDialog:!0})}},{key:"handleCloseDeleteDialog",value:function(){this.setState({deleteDialog:!1})}},{key:"handleDelete",value:function(){this.props.removeDuoSchedule(this.props.id),this.setState({deleteDialog:!1})}},{key:"renderRemoveDialog",value:function(){return i.a.createElement(Ge.a,{open:this.state.deleteDialog,onRequestClose:this.handleCloseDeleteDialog},i.a.createElement(Je.DialogTitle,null,"Delete Schedule"),i.a.createElement(Je.DialogContent,null,i.a.createElement(b.a,null,"Are you sure that you want to delete your schedule on ".concat(this.props.dayOfWeek,", ").concat(this.props.startingTime," - ").concat(this.props.endingTime,"?"))),i.a.createElement(Je.DialogActions,null,i.a.createElement(Me.a,{color:"primary",onClick:this.handleCloseDeleteDialog},"Cancel"),i.a.createElement(Me.a,{onClick:this.handleDelete,color:"accent"},"Delete")))}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(M.ListItem,null,i.a.createElement(M.ListItemText,{inset:!0,primary:"".concat(this.props.dayOfWeek,", ").concat(this.props.startingTime," - ").concat(this.props.endingTime)}),i.a.createElement(M.ListItemSecondaryAction,null,i.a.createElement(le.a,{className:t.removeIcon,onClick:function(){e.handleOpenDeleteDialog()},color:"primary"},i.a.createElement(Be.a,null)),this.renderRemoveDialog()))}}]),t}(n.Component);var mt=Object(I.b)(null,function(e,t){return{removeDuoSchedule:function(a){e(Re(a,t.duoId)),e(Ce("Duo schedule deleted."))}}})(Object(y.withStyles)(function(e){return{removeIcon:{color:"#ef5350"}}})(ht)),pt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isExpanded:!1},a.toggle=a.toggle.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.rank,r=t.nickName,l=t.schedules,o=t.classes;return i.a.createElement("div",null,i.a.createElement(M.ListItem,{button:!0,onClick:function(){e.toggle()}},i.a.createElement(g.a,{to:"players/".concat(a)},i.a.createElement(H.a,{alt:n,src:"http://ddragon.leagueoflegends.com/cdn/6.24.1/img/profileicon/".concat(V(a),".png")})),i.a.createElement(M.ListItemText,{primary:r}),this.state.isExpanded?i.a.createElement(ct.a,{className:o.Expand}):i.a.createElement(dt.a,{className:o.Expand})),i.a.createElement(ae.a,{className:o.collapseText,in:this.state.isExpanded,transitionDuration:"auto",unmountOnExit:!0},l.map(function(e,t){return i.a.createElement(mt,Object.assign({},e,{key:t,duoId:a}))})))}}]),t}(n.Component);var ft=Object(I.b)(function(e){return{}},function(e,t){return{removeDuoSchedule:function(a){e(Re(a,t.id))}}})(Object(y.withStyles)(function(e){return{icon:{height:17,verticalAlign:"top"},removeIcon:{color:"#ef5350"},secondaryAction:{top:"50%",marginTop:"-16px",right:8},Expand:{color:e.palette.primary[500]},ButtonBase:{height:36,width:36,padding:0,marginRight:8,borderRadius:"100%",minWidth:0,color:"#fafafa"},ButtonAccept:{backgroundColor:"#05c7a3"},ButtonRemove:{backgroundColor:"#ef5350"},Avatar:{borderRadius:0}}})(pt)),bt=a(67),gt=a.n(bt),yt=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"renderDuosList",value:function(){var e=this.props.duos;return Object.keys(e).map(function(t,a){return i.a.createElement(ft,Object.assign({key:a},e[t]))})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(q.a,null,this.renderDuosList()))}}]),t}(n.Component);var vt=Object(I.b)(function(e){var t=Object.keys(e.availability).map(function(t){return Object(N.a)({},e.availability[t],{id:t})}).filter(function(e){return void 0!==e.userId});return t=gt.a.mapValues(gt.a.groupBy(t,"userId"),function(e){return e.map(function(e){return gt.a.omit(e,"userId")})}),{duos:Object.keys(t).map(function(a){return Object(N.a)({schedules:Object(ot.a)(t[a])},e.users.filter(function(e){return a===e.id})[0],{requests:null,availability:null})})}})(yt),Ot=a(294),Et=a.n(Ot),kt=a(295),jt=a.n(kt),Ct=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",showPassword:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleUserChange=a.handleUserChange.bind(Object(d.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleUserChange",value:function(e){this.setState(Object(N.a)({},this.state,{email:e.target.value}))}},{key:"handlePasswordChange",value:function(e){this.setState(Object(N.a)({},this.state,{password:e.target.value}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.email,n=t.password;this.props.login(a,n)}},{key:"handleClickShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"handleMouseDownPassword",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container,style:{height:"100vh"}},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(U.a,{style:{margin:0,width:"100%"},container:!0,justify:"center",alignItems:"center"},i.a.createElement(U.a,{item:!0,xs:10,style:{textAlign:"center"}},i.a.createElement("img",{src:"/images/ChallengerOutline.svg",alt:"logo",width:"200"})),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(W.a,{label:"E-mail",placeholder:"E-mail",fullWidth:!0,classes:{root:e.textField,focused:e.focused},type:"email",value:this.state.email,onChange:this.handleUserChange,margin:"normal"})),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(W.a,{label:"Password",placeholder:"Password",fullWidth:!0,type:this.state.showPassword?"text":"password",classes:{root:e.textField,focused:e.focused},onChange:this.handlePasswordChange,value:this.state.password,endAdornment:i.a.createElement(B.InputAdornment,{position:"end"},i.a.createElement(le.a,{onClick:this.handleClickShowPassword.bind(this),onMouseDown:this.handleMouseDownPassword},this.state.showPassword?i.a.createElement(Et.a,null):i.a.createElement(jt.a,null))),margin:"normal"})),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(Me.a,{type:"submit",color:"primary",raised:!0,className:e.Button},"Log-in")),i.a.createElement(U.a,{item:!0,xs:10,style:{textAlign:"center"}},i.a.createElement(b.a,null," Don't have an account? ",i.a.createElement(g.a,{to:"/signup",style:{textDecoration:"underline",color:"#fafafa"}},"Register!"))))))}}]),t}(n.Component);var St=Object(I.b)(function(e){return{}},function(e){return{login:function(t,a){e(xe(t,a))}}})(Object(g.d)(Object(y.withStyles)(function(e){return{container:{display:"flex",width:"100%",flexWrap:"wrap",alignItems:"center",justifyContent:"center",background:"url(/images/Background.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat"},textField:{color:"#fafafa","&:before":{backgroundColor:"#fafafa"},"&:placeholder":{color:"#fafafa"}},focused:{"&:after":{backgroundColor:e.palette.primary[500]}},Button:{width:"100%",fontWeight:"600",marginTop:32,borderRadius:"50px",boxShadow:"none",color:"#fafafa",padding:"20px 24px"}}})(Ct))),xt=a(81),wt=a(296),Dt=a.n(wt),It=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={errorMessage:"",successMessage:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"submit",value:function(e){var t,a,n=this;(t=this.email.value,a=this.pw.value,ue.createUserWithEmailAndPassword(t,a).then(he)).catch(function(e){return n.setState({errorMessage:e})})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleSubmit;return i.a.createElement("form",{onSubmit:a(this.submit),style:{background:"transparent"}},i.a.createElement(U.a,{container:!0,justify:"center",spacing:24,alignItems:"center"},i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(ne.a,{fullWidth:!0,component:xt.TextField,name:"username",label:"Username",classes:{root:t.textField},margin:"normal"})),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(ne.a,{fullWidth:!0,component:xt.TextField,name:"email",label:"Email",classes:{root:t.textField},margin:"normal"})),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(ne.a,{fullWidth:!0,component:xt.TextField,name:"password",label:"Password",type:"password",classes:{root:t.textField},margin:"normal"})),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(ne.a,{fullWidth:!0,component:xt.TextField,name:"confirmPassword",label:"Confirm Password",type:"password",classes:{root:t.textField},margin:"normal"})),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(ne.a,{fullWidth:!0,component:xt.Select,id:"role",name:"role",label:"Main Role",classes:{root:t.textField},margin:"normal"},i.a.createElement(ie.MenuItem,{value:1},"Top"),i.a.createElement(ie.MenuItem,{value:2},"Mid"),i.a.createElement(ie.MenuItem,{value:3},"Jungle"),i.a.createElement(ie.MenuItem,{value:4},"Bot"),i.a.createElement(ie.MenuItem,{value:5},"Support"),i.a.createElement(ie.MenuItem,{value:6},"Fill"))),i.a.createElement(U.a,{item:!0,xs:10},i.a.createElement(ne.a,{inputProps:{"aria-label":"Description"},fullWidth:!0,component:xt.Select,id:"role",name:"playstyle",label:"Main Role",classes:{root:t.textField},margin:"normal"},i.a.createElement(ie.MenuItem,{value:1},"Competitive"),i.a.createElement(ie.MenuItem,{value:2},"Casual")))),i.a.createElement(Me.a,{dense:!0,type:"submit",className:t.Button}," Register ",i.a.createElement(Dt.a,{className:t.inputLabel})))}}]),t}(n.Component),Rt=Object(ne.c)({form:"signup",validate:function(e){var t={};return e.username?e.username.length>15&&(t.username="Must be 15 characters or less"):t.username="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password!==e.confirmPassword&&(t.password="Passwords must match!",t.confirmPassword="Passwords must match!"),e.password||(t.password="Required"),e.confirmPassword||(t.confirmPassword="Required"),t},destroyOnUnmount:!1})(Object(y.withStyles)(function(e){return{Button:{position:"fixed",bottom:"10px",right:"5vw"}}})(It)),Tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={activeStep:0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.container},i.a.createElement(Rt,null))}}]),t}(n.Component),At=Object(y.withStyles)(function(e){return{container:{display:"flex",width:"100%",flexWrap:"wrap",alignItems:"center",justifyContent:"center",height:"100vh",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}},{withTheme:!0})(Tt),Nt=a(297),Mt=a.n(Nt),qt=a(298),Bt=a.n(qt),Wt=a(133),Lt=a.n(Wt),Pt=a(299),Ft=a.n(Pt),Ut=a(300),_t=a.n(Ut),Ht=a(301),zt=a.n(Ht),Jt=a(302),Gt=a.n(Jt),Kt=a(303),Vt=a.n(Kt),Yt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={sidebar:!1},a.toggleDrawer=a.toggleDrawer.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"toggleDrawer",value:function(e,t){this.setState({sidebar:!this.state.sidebar})}},{key:"sideList",value:function(){var e,t=this,a=this.props,n=a.classes,r=a.username,l=a.availability,o=a.id,s=[];for(e in l)l[e].userId&&s.push(l[e].userId);var c=o?Math.round(588+(9301*o.match(/\d/g).join("")+49297)%233280/233280*32):"";return i.a.createElement("div",null,i.a.createElement("div",{className:n.list},i.a.createElement("img",{src:"http://ddragon.leagueoflegends.com/cdn/6.24.1/img/profileicon/".concat(c,".png"),className:n.avatarSide,alt:"profile_pic"}),i.a.createElement(b.a,{type:"title",className:n.drawerTitle,gutterBottom:!0},r),i.a.createElement(g.a,{to:"/duos",onClick:function(){t.toggleDrawer()}},i.a.createElement(b.a,{className:n.drawerText,gutterBottom:!0},i.a.createElement("b",{style:{color:"#fafafa"}},s.filter(function(e,t){return s.indexOf(e)===t}).length)," Duos"),i.a.createElement(b.a,{className:n.drawerText,gutterBottom:!0},i.a.createElement("b",{style:{color:"#fafafa"}},Object.keys(l).length)," schedules"))),i.a.createElement(Lt.a,{style:{backgroundColor:"#0f1015",height:2}}),i.a.createElement(q.a,null,i.a.createElement(M.ListItem,{component:g.a,onClick:function(){t.toggleDrawer()},to:"/profile",button:!0},i.a.createElement(Gt.a,{className:n.sidebarIcons}),i.a.createElement(M.ListItemText,{primary:"My profile"})),i.a.createElement(M.ListItem,{component:g.a,onClick:function(){t.toggleDrawer()},to:"/schedules",button:!0},i.a.createElement(Vt.a,{className:n.sidebarIcons}),i.a.createElement(M.ListItemText,{primary:"My schedules"})),i.a.createElement(M.ListItem,{button:!0,onClick:function(){t.props.logout()}},i.a.createElement(zt.a,{className:n.sidebarIcons}),i.a.createElement(M.ListItemText,{primary:"Sign-out"}))))}},{key:"renderMainAction",value:function(){var e=this,t=this.props,a=t.location,n=t.classes,r=t.id,l=r?Math.round(588+(9301*r.match(/\d/g).join("")+49297)%233280/233280*32):"";return a.pathname.match(new RegExp("/","g")).length<=1?i.a.createElement(H.a,{onClick:function(){e.toggleDrawer()},src:"http://ddragon.leagueoflegends.com/cdn/6.24.1/img/profileicon/".concat(l,".png")}):i.a.createElement(le.a,{onClick:this.props.history.goBack.bind(this),className:n.closeButton,"aria-label":"Close"},i.a.createElement(_t.a,null))}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(Mt.a,{position:"static",className:t.root},i.a.createElement(Bt.a,null,this.renderMainAction(),i.a.createElement(Ft.a,{open:this.state.sidebar,classes:{paper:t.sidebar},onRequestClose:function(){e.toggleDrawer()}},this.sideList())))}}]),t}(n.Component);var Zt=Object(g.d)(Object(I.b)(function(e){return{availability:e.availability,username:e.userInfo.nickName,id:e.userInfo.id?e.userInfo.id:void 0}},function(e){return{logout:function(){e(we())}}})(Object(y.withStyles)(function(e){return{root:{backgroundColor:e.palette.secondary[500],width:"100%",color:"#fafafa",position:"fixed",top:"0px",zIndex:"3"},closeButton:{color:"#fafafa"},avatarSide:{width:50,height:50,borderRadius:"50%"},sidebar:{backgroundColor:e.palette.secondary[500]},sidebarIcons:{color:e.palette.secondary[200]},list:{width:200,padding:16},drawerText:{color:e.palette.secondary[200],fontWeight:"thin",marginTop:8,marginRight:16,display:"inline-block"},drawerTitle:{display:"block"}}})(Yt))),Qt=a(307),Xt=a(180),$t=a.n(Xt),ea={editable:{cursor:"pointer"}},ta=[1,2,3,4,5],aa=function(e){var t=e.checked,a=(e.hovered,e.readOnly),n=void 0!==a&&a,r=Object(Qt.a)(e,["checked","hovered","readOnly"]),l=n?{}:ea.editable;return t?i.a.createElement(J.a,Object.assign({style:l,color:"#05c7a3"},r)):i.a.createElement($t.a,Object.assign({style:l,color:"#05c7a3"},r))},na=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hoveredIndex:0,checkedIndex:e.value},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({checkedIndex:e.value})}},{key:"onCheck",value:function(e,t){this.setState({checkedIndex:e}),this.props.onChange&&this.props.onChange(e)}},{key:"onMouseEnter",value:function(e,t){this.setState({hoveredIndex:e})}},{key:"onMouseLeave",value:function(e,t){this.setState({hoveredIndex:0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.hoveredIndex,n=t.checkedIndex,r=this.props,l=r.readOnly,o=r.values,s=void 0===o?ta:o,c=r.className;return i.a.createElement("div",{style:{},className:c||null},s.map(function(t){var r=l?void 0:e.onCheck.bind(e,t),o=l?void 0:e.onMouseEnter.bind(e,t),s=l?void 0:e.onMouseLeave.bind(e,t),c=t<=n,u=t<=a;return a>0&&n>0&&t>a&&t<=n&&(c=!1,u=!0),i.a.createElement(aa,{checked:c,key:t,hovered:u,readOnly:l,onClick:r,onMouseEnter:o,onMouseLeave:s})}))}}]),t}(n.Component),ia=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children,n=e.onClick;return i.a.createElement(Me.a,{disableRipple:!0,classes:{root:this.props.toggled?t.toggled:t.root},onClick:n},a)}}]),t}(n.Component);var ra=Object(y.withStyles)(function(e){return{root:{fontWeight:"600",marginTop:8,borderStyle:"solid",borderWidth:2,borderColor:"#fafafa",color:"#fafafa",padding:"10px 12px",margin:"0px 8px 0px 0px",borderRadius:5,transition:"0.2s ease-in-out"},toggled:{fontWeight:"600",marginTop:8,borderStyle:"solid",borderWidth:2,borderColor:e.palette.primary[500]+" !important",backgroundColor:e.palette.primary[500]+" !important",color:"#fafafa",padding:"10px 12px",margin:"0px 8px 0px 0px",borderRadius:5,transition:"0.2s ease-in-out"}}})(ia),la=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.state={open:!1,vertical:null,horizontal:null,availability:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.availability;if(void 0===t)return i.a.createElement(b.a,{align:"center",type:"title",style:{fontWeight:"100"}},"This user doesn't have any time available :(");for(var a in t)t[a].toggled=!1;this.setState(Object(N.a)({},this.state,{availability:t}))}},{key:"handleCloseForm",value:function(){"function"===typeof this.props.closeFunction&&this.props.closeFunction()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a,n,i=Object.keys(this.state.availability).map(function(e){return Object(N.a)({},t.state.availability[e],{id:e})}).filter(function(e){return!0===e.toggled});i.length>0&&(this.props.dispatch((a=i,n=this.props.userId,function(e,t){var i=t().auth.uid;a.map(function(e){return{user:i,availabilityId:e.id}}).forEach(function(e){ce.child("users/".concat(n,"/requests")).push(e)})})),"function"===typeof this.props.closeFunction&&this.props.closeFunction(),this.props.dispatch(Se("Request sent")))}},{key:"handleToggle",value:function(e){var t=this.state.availability;for(var a in t)a===e&&(t[a].toggled=!t[a].toggled);this.setState({availability:t})}},{key:"renderAvailability",value:function(){var e=this,t=this.state.availability;return void 0===t?i.a.createElement(b.a,{align:"center",type:"title",style:{fontWeight:"100"}},"This user doesn't have any time available :("):(t=Object.keys(t).map(function(e,a){return Object(N.a)({},t[e],{toggled:!1,id:e})}),t=gt.a.mapValues(gt.a.groupBy(t,"dayOfWeek"),function(e){return e.map(function(e){return gt.a.omit(e,"dayOfWeek")})}),Object.keys(t).map(function(a){return i.a.createElement("div",{key:a},t[a].filter(function(e){return!e.isFilled}).length>0&&i.a.createElement(b.a,{type:"subheading"},a),t[a].map(function(t,a){if(!t.isFilled)return i.a.createElement(ra,{key:t.id,toggled:e.state.availability[t.id].toggled,onClick:e.handleToggle.bind(e,t.id)},"".concat(t.startingTime," - ").concat(t.endingTime))}))}))}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{style:{textAlign:"left",height:"50vh",overflowY:"scroll",margin:"2vh 4vw 0vh 4vw"}},this.renderAvailability()),i.a.createElement(Lt.a,null),i.a.createElement("div",{className:e.buttonContainer},i.a.createElement(Me.a,{className:e.button,onClick:this.handleCloseForm.bind(this),style:{border:"2px solid #fafafa",color:"#fafafa",fontWeight:"bold"}},"Cancel"),i.a.createElement(Me.a,{color:"primary",raised:!0,className:e.button,style:{color:"#fafafa"},type:"submit"},"Send")))}}]),t}(n.Component);var oa=Object(y.withStyles)(function(e){return{buttonContainer:{textAlign:"left",height:"10vh",display:"flex",alignItems:"center",justifyContent:"center"},button:{margin:"0vw 2.5vw",padding:"4vw 20vw",fontWeight:"bold"}}})(la),sa=a(304),ca=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={open:!1},a.handleClickOpen=a.handleClickOpen.bind(Object(d.a)(a)),a.handleRequestClose=a.handleRequestClose.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleRequestClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.nickName,n=e.userRating,r=e.availability,l=e.mainRole,o=e.id,s=e.rank,c=e.league,u=G(l,"png");return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("div",{style:{position:"relative",height:248,margin:"5px"}},i.a.createElement("div",{className:t.MainCharacter}),i.a.createElement("img",{src:"http://ddragon.leagueoflegends.com/cdn/6.24.1/img/profileicon/".concat(V(o),".png"),className:t.ProfilePic,alt:"profile_pic"})),i.a.createElement(b.a,{align:"center",type:"title",style:{fontWeight:"bold"}},a),i.a.createElement(na,{value:n,readOnly:!0,className:t.Rating}),i.a.createElement(Me.a,{color:"primary",raised:!0,className:t.Button,onClick:this.handleClickOpen},"Bora Duo!"),i.a.createElement(U.a,{style:{margin:"0px",width:"100%"},container:!0},i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(H.a,{style:{display:"inline-block"},alt:u[0],src:u[1]}),i.a.createElement(b.a,{type:"body2",style:{fontWeight:"bold"}},u[0])),i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(H.a,{style:{display:"inline-block"},alt:s,src:K(c)}),i.a.createElement(b.a,{type:"body2",style:{fontWeight:"bold"}},"".concat(c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()," ").concat(s)))),i.a.createElement(sa.BottomSheet,{classes:{paper:t.BottomSheet},onRequestClose:this.handleRequestClose,open:this.state.open,snackbarFunction:this.handleSnackbarOpen},i.a.createElement(oa,{dispatch:this.props.dispatch.bind(this),availability:r,userId:this.props.match.params.id,closeFunction:this.handleRequestClose})))}}]),t}(n.Component);var ua=Object(I.b)(function(e,t){return Object(N.a)({},e.users.filter(function(e){return e.id===t.match.params.id})[0])})(Object(y.withStyles)(function(e){return{MainCharacter:{background:"url('http://ddragon.leagueoflegends.com/cdn/img/champion/loading/Rakan_0.jpg')",width:"100%",height:"200px",backgroundRepeat:"no-repeat",backgroundSize:"cover",filter:"blur(5px)"},ProfilePic:{borderRadius:"50%",border:"4px solid #fafafa",height:96,left:0,bottom:0,position:"absolute",right:0,marginLeft:"auto",marginRight:"auto"},BottomSheet:{backgroundColor:"#fff !important"},Rating:{textAlign:"center",marginTop:8},Button:{fontWeight:"600",marginTop:8,borderRadius:50,color:"#fafafa",padding:"16px 24px"}}})(ca)),da=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={open:!1},a.handleClickOpen=a.handleClickOpen.bind(Object(d.a)(a)),a.handleRequestClose=a.handleRequestClose.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleRequestClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.nickName,n=e.userRating,r=e.mainRole,l=e.id,o=e.rank,s=e.league,c=G(r,"png");return i.a.createElement("div",{className:t.root},i.a.createElement("div",{style:{position:"relative",height:248,margin:"5px"}},i.a.createElement("div",{className:t.MainCharacter}),i.a.createElement("img",{src:"http://ddragon.leagueoflegends.com/cdn/6.24.1/img/profileicon/".concat(V(l),".png"),className:t.ProfilePic,alt:"profile_pic"})),i.a.createElement(b.a,{align:"center",type:"title",style:{fontWeight:"bold"}},a),i.a.createElement(na,{value:n,readOnly:!0,className:t.Rating}),i.a.createElement(Me.a,{color:"primary",raised:!0,className:t.Button},"Edit Profile"),i.a.createElement(U.a,{style:{margin:"0px",width:"100%"},container:!0},i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(H.a,{style:{display:"inline-block"},alt:c[0],src:c[1]}),i.a.createElement(b.a,{type:"body2",style:{fontWeight:"bold"}},c[0])),i.a.createElement(U.a,{item:!0,xs:!0},i.a.createElement(H.a,{style:{display:"inline-block"},alt:o,src:K(s)}),i.a.createElement(b.a,{type:"body2",style:{fontWeight:"bold"}},"".concat(s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()," ").concat(o)))))}}]),t}(n.Component);var ha=Object(I.b)(function(e,t){return Object(N.a)({},e.userInfo)})(Object(y.withStyles)(function(e){return{root:{textAlign:"center"},MainCharacter:{background:"url('http://ddragon.leagueoflegends.com/cdn/img/champion/loading/Rakan_0.jpg')",width:"100%",height:"200px",backgroundRepeat:"no-repeat",backgroundSize:"cover",filter:"blur(5px)"},ProfilePic:{borderRadius:"50%",border:"4px solid #fafafa",height:96,left:0,bottom:0,position:"absolute",right:0,marginLeft:"auto",marginRight:"auto"},Rating:{textAlign:"center",marginTop:8},Button:{fontWeight:"600",marginTop:8,borderRadius:50,color:"#fafafa",padding:"16px 24px"}}})(da));function ma(e){var t=function(t){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(h.a)(a,t),Object(s.a)(a,[{key:"componentWillMount",value:function(){de()||this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.authenticated||this.props.history.push("/")}},{key:"render",value:function(){return i.a.createElement(e,this.props)}}]),a}(n.Component);return Object(g.d)(t)}var pa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleSnackbarOpen=a.handleSnackbarOpen.bind(Object(d.a)(a)),a.handleCloseSnackbar=a.handleCloseSnackbar.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleSnackbarOpen",value:function(){this.setState({snackbarOpen:!0})}},{key:"handleCloseSnackbar",value:function(){this.setState({snackbarOpen:!1})}},{key:"componentWillReceiveProps",value:function(e){"string"===typeof e.snackbar.message&&""!==e.snackbar.message&&this.setState({snackbarOpen:!0})}},{key:"componentDidUpdate",value:function(){!1===this.state.snackbarOpen&&(this.props.removeSnackbarMessage(),this.setState({snackbarOpen:void 0}))}},{key:"render",value:function(){var e=this.props.location.pathname,t=this.props.classes,a=this.props.snackbar,n=a.message,r=a.type;return i.a.createElement("div",null,i.a.createElement(p.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.snackbarOpen,onRequestClose:this.handleCloseSnackbar,autoHideDuration:4e3,SnackbarContentProps:{"aria-describedby":"message-id",classes:{root:"error"===r?t.snackbarError:t.snackbarSuccess}},message:i.a.createElement(b.a,{type:"subheading",id:"message-id"},n)}),"/"===e||"/signup"===e||"/player/:id"===e?null:i.a.createElement(Zt,null),i.a.createElement(g.b,{name:"login",exact:!0,path:"/",component:St}),i.a.createElement(g.b,{name:"signup",exact:!0,path:"/signup",component:At}),i.a.createElement(g.b,{name:"players",exact:!0,path:"/players",component:ma(Ae)}),i.a.createElement(g.b,{name:"notifications",path:"/notifications",component:ma(_e)}),i.a.createElement(g.b,{name:"duos",path:"/duos",component:ma(vt)}),i.a.createElement(g.b,{name:"schedules",path:"/schedules",component:ma(lt)}),i.a.createElement(g.b,{name:"singleUser",path:"/players/:id",component:ma(ua)}),i.a.createElement(g.b,{name:"myProfile",path:"/profile",component:ma(ha)}),"/"===e||"/signup"===e?null:i.a.createElement(T,null))}}]),t}(i.a.Component);var fa=Object(g.d)(Object(I.b)(function(e){return{snackbar:e.snackbar}},function(e){return{removeSnackbarMessage:function(){return e({type:"REMOVE_MESSAGE"})}}})(Object(y.withStyles)(function(e){return{snackbarSuccess:{backgroundColor:"#05c7a3"},snackbarError:{backgroundColor:"#ef5350"}}})(pa))),ba=a(305),ga=a.n(ba),ya=a(33);var va=Object(ya.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return t.users;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return{uid:t.uid};case Ee:return{};default:return e}},form:ne.b,snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{message:t.message,type:"success"};case Oe:return{message:t.message,type:"error"};case"REMOVE_MESSAGE":return{};default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return t.payload;default:return e}},availability:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return t.availabilities;default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return t.requests;default:return e}}}),Oa=Object(ya.e)(va,Object(ya.d)(Object(ya.a)(ga.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})),Ea=(a(603),Object(y.createMuiTheme)({palette:{type:"dark",secondary:{50:"#e3e3e4",100:"#b9b9bb",200:"#8a8b8e",300:"#5b5c61",400:"#38393f",500:"#15161d",600:"#12131a",700:"#0f1015",800:"#0c0c11",900:"#06060a",A100:"#5050ff",A200:"#ef5350",A400:"#0000e9",A700:"#0000d0",contrastDefaultColor:"light",contrastDarkColors:["50","100","200"],contrastLightColors:["300","400","500","600","700","800","900","A100","A200","A400","A700"]},primary:{50:"#e1f8f4",100:"#b4eee3",200:"#82e3d1",300:"#50d8bf",400:"#2bcfb1",500:"#05c7a3",600:"#04c19b",700:"#04ba91",800:"#03b388",900:"#01a677",A100:"#d0fff0",A200:"#9dffdf",A400:"#6affce",A700:"#51ffc6",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","500","600","A100","A200","A400","A700"],contrastLightColors:["700","800","900"]}}})),ka=a(127),ja=a.n(ka)()();ue.onAuthStateChanged(function(e){var t;e?(localStorage.setItem("AUTH_TOKEN",e.uid),ce.child("users/".concat(e.uid,"/requests")).on("value",function(e){Oa.dispatch(De(e.val()))}),Oa.dispatch((t=e.uid,{type:ke,uid:t})),Oa.dispatch(function(e,t){var a=t().auth.uid;return ce.child("users/".concat(a,"/availability")).on("value",function(t){var a=t.val();e(Ie(a))})}),ja.push("/players")):(localStorage.removeItem("AUTH_TOKEN"),Oa.dispatch({type:Ee}),Oa.dispatch(De([])),"/signup"!==ja.location.pathname&&ja.push("/"))}),l.a.render(i.a.createElement(I.a,{store:Oa},i.a.createElement(g.c,{history:ja},i.a.createElement(y.MuiThemeProvider,{theme:Ea},i.a.createElement(fa,null)))),document.getElementById("app"))}},[[308,1,2]]]);
//# sourceMappingURL=main.6a3651eb.chunk.js.map